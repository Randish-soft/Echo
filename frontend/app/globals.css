/* -------------------------------------------------------
   Tailwind Layers
--------------------------------------------------------*/
@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------------------------------
   Theme Root: Light/Dark + Design Tokens
--------------------------------------------------------*/
:root {
  color-scheme: light;

  --color-bg: 255 255 255; /* white base */
  --color-surface: 248 250 252; /* slate-50 */
  --color-border: 0 0 0 / 0.1;
  --color-text: 15 23 42; /* slate-900 */
  --color-accent: 37 99 235; /* blue-600 */
  --radius-lg: 1rem;
}

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;

    --color-bg: 15 23 42; /* slate-900 */
    --color-surface: 30 41 59; /* slate-800 */
    --color-border: 255 255 255 / 0.08;
    --color-text: 226 232 240; /* slate-200 */
    --color-accent: 56 189 248; /* sky-400 */
  }
}

/* -------------------------------------------------------
   Global Reset + Typography
--------------------------------------------------------*/
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  @apply antialiased;
  background-color: rgb(var(--color-bg));
  color: rgb(var(--color-text));
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  line-height: 1.65;
}

@media (prefers-reduced-motion: no-preference) {
  * {
    scroll-behavior: smooth;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
  }
}

/* Improve font rendering */
@supports (font-variation-settings: normal) {
  body {
    font-feature-settings: "liga" 1, "calt" 1, "ss01" 1;
  }
}

/* -------------------------------------------------------
   Text selection (preserves black text)
--------------------------------------------------------*/
::selection {
  background: rgba(148, 163, 184, 0.35); /* slate-400/35 */
  color: inherit; /* keep text visible when selecting */
}

/* -------------------------------------------------------
   Focus Styles
--------------------------------------------------------*/
:focus-visible {
  outline: 2px solid rgb(var(--color-accent) / 0.6);
  outline-offset: 3px;
  border-radius: 0.5rem;
}

/* -------------------------------------------------------
   Links
--------------------------------------------------------*/
a {
  @apply text-blue-600 hover:text-blue-500 transition-colors;
}

/* -------------------------------------------------------
   Containers
--------------------------------------------------------*/
.container-narrow {
  max-width: 70rem; /* ~1120px */
  margin-inline: auto;
  padding-inline: 1.5rem;
}

/* -------------------------------------------------------
   Cards & Panels
--------------------------------------------------------*/
.card {
  @apply rounded-2xl border border-gray-200 bg-gray-50 shadow-sm;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card:hover {
  @apply shadow-md;
  transform: translateY(-1px);
}

/* -------------------------------------------------------
   Scrollbar
--------------------------------------------------------*/
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.4) transparent;
}

*::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}
*::-webkit-scrollbar-thumb {
  background-color: rgba(148, 163, 184, 0.4);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover {
  background-color: rgba(148, 163, 184, 0.6);
}

/* -------------------------------------------------------
   Inputs & Selects (light gray boxes, black text)
--------------------------------------------------------*/
@layer components {
  .input {
    @apply w-full rounded-lg border border-gray-300
           bg-gray-100 text-gray-900 placeholder:text-gray-500
           px-3 py-2
           focus:outline-none focus:ring-2 focus:ring-blue-500/60 focus:border-blue-500/50;
  }
  .select {
    @apply w-full rounded-lg border border-gray-300
           bg-gray-100 text-gray-900
           px-3 py-2
           focus:outline-none focus:ring-2 focus:ring-blue-500/60 focus:border-blue-500/50;
  }
}

/* -------------------------------------------------------
   Buttons
--------------------------------------------------------*/
.btn {
  @apply inline-flex items-center justify-center rounded-lg px-4 py-2.5 text-sm font-semibold transition-all disabled:opacity-60 disabled:cursor-not-allowed;
}

.btn-primary {
  @apply text-white bg-black hover:bg-gray-900 focus-visible:ring-2 focus-visible:ring-blue-500/50;
}

.btn-secondary {
  @apply text-gray-800 border border-gray-300 bg-white hover:bg-gray-100;
}

.btn-success {
  @apply text-white bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500;
}

/* -------------------------------------------------------
   Code Blocks
--------------------------------------------------------*/
pre, code, kbd, samp {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

pre {
  @apply rounded-xl border border-gray-200 bg-gray-100 p-4 text-sm overflow-auto;
}

/* -------------------------------------------------------
   Footer
--------------------------------------------------------*/
.footer {
  @apply border-t border-gray-200 bg-gray-50 text-center text-xs text-gray-500 py-6;
}
