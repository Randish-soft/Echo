/* -------------------------------------------------------
   Tailwind Layers
--------------------------------------------------------*/
@tailwind base;
@tailwind components;
@tailwind utilities;

/* -------------------------------------------------------
   Theme Root: Light/Dark + Design Tokens
--------------------------------------------------------*/
:root {
  color-scheme: dark;

  /* semantic design tokens (easier theming later) */
  --color-bg: 15 23 42; /* slate-900 */
  --color-surface: 30 41 59; /* slate-800 */
  --color-border: 255 255 255 / 0.08;
  --color-text: 226 232 240; /* slate-200 */
  --color-accent: 56 189 248; /* sky-400 */
  --radius-lg: 1rem;
}

@media (prefers-color-scheme: light) {
  :root {
    --color-bg: 241 245 249; /* slate-100 */
    --color-surface: 255 255 255;
    --color-border: 0 0 0 / 0.1;
    --color-text: 15 23 42; /* slate-900 */
    --color-accent: 37 99 235; /* blue-600 */
  }
}

/* -------------------------------------------------------
   Global Reset + Typography
--------------------------------------------------------*/
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  @apply antialiased;
  background-color: rgb(var(--color-bg));
  color: rgb(var(--color-text));
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  line-height: 1.65;
}

/* Subtle motion safety */
@media (prefers-reduced-motion: no-preference) {
  * {
    scroll-behavior: smooth;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
  }
}

/* Improve font rendering */
@supports (font-variation-settings: normal) {
  body {
    font-feature-settings: "liga" 1, "calt" 1, "ss01" 1;
  }
}

/* Text selection */
::selection {
  background: rgba(56, 189, 248, 0.35); /* sky-400/35 */
  color: #fff;
}

/* -------------------------------------------------------
   Accessible Focus Styles
--------------------------------------------------------*/
:focus-visible {
  outline: 2px solid rgb(var(--color-accent) / 0.6);
  outline-offset: 3px;
  border-radius: 0.5rem;
}

/* -------------------------------------------------------
   Links
--------------------------------------------------------*/
a {
  @apply text-sky-400 hover:text-sky-300 transition-colors;
}

/* -------------------------------------------------------
   Containers
--------------------------------------------------------*/
.container-narrow {
  max-width: 70rem; /* ~1120px */
  margin-inline: auto;
  padding-inline: 1.5rem;
}

/* -------------------------------------------------------
   Cards & Panels
--------------------------------------------------------*/
.card {
  @apply rounded-2xl border border-white/10 bg-slate-900/60 shadow-lg backdrop-blur-sm;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card:hover {
  @apply shadow-xl;
  transform: translateY(-1px);
}

/* -------------------------------------------------------
   Scrollbar (modern + smooth)
--------------------------------------------------------*/
* {
  scrollbar-width: thin;
  scrollbar-color: rgb(148 163 184 / 0.3) transparent;
}

*::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}
*::-webkit-scrollbar-thumb {
  background-color: rgb(148 163 184 / 0.35);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover {
  background-color: rgb(148 163 184 / 0.55);
}

/* -------------------------------------------------------
   Reusable Utilities
--------------------------------------------------------*/
.text-gradient {
  background-image: linear-gradient(135deg, #38bdf8, #a78bfa);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.hr {
  @apply border-t border-white/10 my-6;
}

/* -------------------------------------------------------
   Badges
--------------------------------------------------------*/
.badge {
  @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium;
  backdrop-filter: blur(6px);
}
.badge--ok {
  @apply bg-emerald-500/10 text-emerald-300 ring-1 ring-emerald-500/30;
}
.badge--warn {
  @apply bg-amber-500/10 text-amber-300 ring-1 ring-amber-500/30;
}
.badge--err {
  @apply bg-rose-500/10 text-rose-300 ring-1 ring-rose-500/30;
}

/* -------------------------------------------------------
   Buttons
--------------------------------------------------------*/
.btn {
  @apply inline-flex items-center justify-center rounded-lg px-4 py-2.5 text-sm font-semibold transition-all disabled:opacity-60 disabled:cursor-not-allowed;
}

.btn-primary {
  @apply text-white bg-gradient-to-r from-sky-600 to-indigo-600 hover:from-sky-500 hover:to-indigo-500 focus-visible:ring-2 focus-visible:ring-sky-500/50;
}

.btn-secondary {
  @apply text-slate-200 border border-white/10 bg-slate-800 hover:bg-slate-700;
}

.btn-success {
  @apply text-white bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500;
}

/* -------------------------------------------------------
   Code Blocks
--------------------------------------------------------*/
pre, code, kbd, samp {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

pre {
  @apply rounded-xl border border-white/10 bg-slate-950/90 p-4 text-sm overflow-auto;
}

/* -------------------------------------------------------
   Footer
--------------------------------------------------------*/
.footer {
  @apply border-t border-white/10 bg-slate-950/70 backdrop-blur-sm text-center text-xs text-slate-400 py-6;
}
/* -------------------------------------------------------
   Markdown Editor + PDF Preview (Responsive Layout)
--------------------------------------------------------*/

/* Wrapper grid for both panels */
.editor-preview-grid {
  @apply grid gap-6 mt-8;
}

/* Two columns on desktop, stacked on smaller screens */
@media (min-width: 768px) {
  .editor-preview-grid {
    @apply grid-cols-2;
  }
}

/* Each section (editor / preview) */
.editor-section {
  @apply flex flex-col h-[70vh] min-h-[400px];
}

@media (max-width: 767px) {
  .editor-section {
    @apply h-auto min-h-[300px];
  }
}

/* Markdown textarea styling */
.editor-textarea {
  @apply flex-1 resize-none font-mono text-sm bg-slate-800 text-slate-100 border border-white/10 rounded-lg p-3 
         focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-900;
}

/* Live PDF preview styling */
.pdf-preview {
  @apply flex-1 overflow-auto bg-white border border-gray-300 rounded-lg p-4 shadow-inner text-black;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Markdown typography inside the preview */
.pdf-preview .prose {
  max-width: none;
  color: #000;
}

.pdf-preview .prose h1,
.pdf-preview .prose h2,
.pdf-preview .prose h3 {
  color: #000;
}

.pdf-preview .prose code {
  background: #f3f4f6;
  color: #1f2937;
  padding: 0.15rem 0.35rem;
  border-radius: 0.25rem;
}

/* Download button */
.download-btn {
  @apply btn-primary mt-3 w-fit;
}
